<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Michael Lorenz - 3D Interactive Professional Profile</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #050211;
            overflow: hidden;
            color: #f0f0f0;
        }
        #container { width: 100vw; height: 100vh; position: relative; }
        #info-panel {
            position: absolute; top: 20px; left: 20px; width: 350px; max-width: 90vw;
            background: rgba(10, 10, 25, 0.75); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border-radius: 15px; padding: 25px; z-index: 100;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.5s ease;
            max-height: calc(100vh - 120px); overflow-y: auto;
        }
        h2, h3 { color: #fff; }
        h3 { margin-top: 15px; border-bottom: 1px solid #667eea; padding-bottom: 5px; }
        ul { list-style-position: inside; padding-left: 5px; }
        li { margin-top: 5px; }
        #controls {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 10px; z-index: 100; flex-wrap: wrap; justify-content: center;
        }
        .control-btn {
            padding: 10px 15px; background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 25px;
            color: #f0f0f0; cursor: pointer; backdrop-filter: blur(10px);
            transition: all 0.3s ease; font-size: 12px;
        }
        .control-btn:hover { background: rgba(255, 255, 255, 0.1); transform: translateY(-2px); }
        .control-btn.active { background: rgba(102, 126, 234, 1); border-color: #764ba2; }
        #loading { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 200; text-align: center; }
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.2); border-radius: 50%;
            border-top: 3px solid #667eea; width: 40px; height: 40px;
            animation: spin 1s linear infinite; margin: 0 auto 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="container">
        <div id="loading">
            <div class="spinner"></div>
            <div>Loading Michael Lorenz's Digital Twin...</div>
        </div>
        <div id="info-panel" style="display: none;">
            <h2 id="section-title"></h2>
            <div id="section-content"></div>
        </div>
        <div id="controls" style="display: none;">
            <div class="control-btn active" data-mode="overview">Overview</div>
            <div class="control-btn" data-mode="skills">Skills</div>
            <div class="control-btn" data-mode="cognitive">Cognitive</div>
            <div class="control-btn" data-mode="personality">Personality</div>
            <div class="control-btn" data-mode="vision">Vision</div>
        </div>
    </div>

    <script>
        let scene, camera, renderer, composer, bloomPass, raycaster, mouse;
        let interactiveObjects = [];
        let hoveredObject = null;
        let targetPosition = new THREE.Vector3(0, 5, 35);
        let targetLookAt = new THREE.Vector3(0, 0, 0);

        // --- UPDATED & EXPANDED PERSONAL DATA FROM REPORT ---
        const profileData = {
            overview: {
                title: "Executive Summary",
                content: `
                    <h3>A Rare & High-Caliber Profile</h3>
                    <p>A synthesis of rigorous German engineering (KIT) with a cutting-edge, validated skillset in AI, cloud, and data science[cite: 6]. Distinguished by a demonstrable capacity for high-level strategic and meta-cognitive thinking[cite: 7].</p>
                    <h3>Key Metrics</h3>
                    <ul>
                        <li><strong>Job Readiness:</strong> 99th Percentile [cite: 235]</li>
                        <li><strong>Future Readiness:</strong> 98th-99th Percentile </li>
                        <li><strong>Competence (vs. Engineers):</strong> 95th-98th Percentile [cite: 72]</li>
                        <li><strong>Recommended Base Salary:</strong> €110,000 - €135,000 </li>
                    </ul>
                `
            },
            skills: {
                title: "Core Competency Matrix",
                content: `
                    <h3>Artificial Intelligence</h3>
                    <p>Generative AI, NLP, Neurosymbolic Systems, ML, Deep Learning[cite: 58].</p>
                    <h3>Domain Specialization</h3>
                    <p>Battery Analytics, Digital Twins, Sustainable Systems, Circular Economy[cite: 58].</p>
                    <h3>Cloud & DevOps</h3>
                    <p>Azure & GCP Architecture, Kubernetes, MLOps, Data Engineering[cite: 47, 48, 58].</p>
                `
            },
            cognitive: {
                title: "Cognitive Profile (Estimated)",
                content: `
                    <h3>General Intelligence (IQ)</h3>
                    <p><strong>Estimate: 135 - 145</strong> (99th-99.9th Percentile). Evidenced by mastery of multiple complex domains and abstract strategic writing[cite: 92, 95].</p>
                    <h3>Fluid Intelligence (Gf)</h3>
                    <p><strong>Score: Very High</strong> (98th+ Percentile)[cite: 110]. Demonstrated by successful, self-directed career pivot into the evolving field of AI[cite: 105].</p>
                    <h3>Crystallized Intelligence (Gc)</h3>
                    <p><strong>Score: 140 - 150</strong>[cite: 120]. Reflects an expansive, validated knowledge base across engineering, AI, and cloud architecture[cite: 111, 113, 115, 116].</p>
                `
            },
            personality: {
                title: "Psychometric Profile",
                content: `
                    <h3>Big Five Personality (OCEAN)</h3>
                    <ul>
                        <li><strong>Openness:</strong> Very High (95-99%)[cite: 124]. Driven by intellectual curiosity and creation of conceptual content[cite: 125, 128].</li>
                        <li><strong>Conscientiousness:</strong> Very High (95-99%). Evidenced by meticulous, systematic organization of his entire digital footprint[cite: 131].</li>
                        <li><strong>Emotional Stability:</strong> Very High (Low Neuroticism, 5-15%)[cite: 146]. Demonstrated by proactive, strategic response to uncertainty (Anti-Fragility project)[cite: 148, 150].</li>
                    </ul>
                     <h3>Ego Development (Loevinger)</h3>
                     <p><strong>Stage: Autonomous (E8)</strong>. Post-conventional thinking; ability to analyze, critique, and architect his own interaction with complex systems[cite: 163, 166].</p>
                `
            },
            vision: {
                title: "Strategic Vision & Values",
                content: `
                    <h3>Core Values</h3>
                    <p>Strategic Autonomy, Innovation, Rigor, and Responsibility[cite: 172].</p>
                    <h3>Meta-Cognitive Capacity</h3>
                    <p>Acts as a 'game designer,' not just a 'player,' within digital systems [cite: 211], turning platforms into a personalized engine for knowledge acquisition[cite: 215].</p>
                `
            }
        };
        
        const skillsData = [
            { name: "Future Readiness", level: 0.99, color: 0x667eea },
            { name: "Strategic Thinking", level: 0.98, color: 0x764ba2 },
            { name: "AI Engineering", level: 0.95, color: 0x48c6ef },
            { name: "Conscientiousness", level: 0.98, color: 0x6f86d6 },
            { name: "Cognitive Ability", level: 0.99, color: 0xffffff },
            { name: "Emotional Stability", level: 0.95, color: 0x48c6ef }
        ];

        // --- INITIALIZATION ---
        init();

        function init() {
            setupScene();
            switchMode('overview');
            setupControls();
            setupEventListeners();
            animate();

            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('info-panel').style.display = 'block';
                document.getElementById('controls').style.display = 'flex';
            }, 1500);
        }

        function setupScene() {
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x050211, 0.015);
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.copy(targetPosition);
            
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.toneMapping = THREE.ReinhardToneMapping;
            document.getElementById('container').appendChild(renderer.domElement);
            
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
            scene.add(ambientLight);

            // Setup Post-Processing (Bloom)
            const renderScene = new THREE.RenderPass(scene, camera);
            bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
            bloomPass.threshold = 0.2;
            bloomPass.strength = 1.3;
            bloomPass.radius = 0.5;
            composer = new THREE.EffectComposer(renderer);
            composer.addPass(renderScene);
            composer.addPass(bloomPass);

            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();
        }
        
        function createVisualization() {
            clearScene();
            const coreGeometry = new THREE.IcosahedronGeometry(3, 1);
            const coreMaterial = new THREE.MeshStandardMaterial({ color: 0x667eea, emissive: 0x111133, roughness: 0.2, metalness: 0.5 });
            const core = new THREE.Mesh(coreGeometry, coreMaterial);
            core.userData = { type: 'core', name: 'Overview' };
            scene.add(core);
            interactiveObjects.push(core);

            skillsData.forEach((skill, index) => {
                const sphereGeometry = new THREE.SphereGeometry(1 + skill.level * 0.7, 20, 20);
                const sphereMaterial = new THREE.MeshStandardMaterial({ color: skill.color, emissive: skill.color, emissiveIntensity: 0.1, roughness: 0.4 });
                const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
                const angle = (index / skillsData.length) * Math.PI * 2;
                const radius = 12;
                sphere.position.set(Math.cos(angle) * radius, (Math.random() - 0.5) * 6, Math.sin(angle) * radius);
                sphere.userData = { type: 'skill', skill: skill, originalColor: skill.color, name: skill.name };
                interactiveObjects.push(sphere);
                scene.add(sphere);
            });
            createParticleField();
        }

        function createParticleField() { /* ... function from previous code ... */ }
        function clearScene() {
            scene.traverse(child => {
                if (child.isMesh || child.isLine || child.isPoints) {
                    if (child.geometry) child.geometry.dispose();
                    if (child.material) child.material.dispose();
                }
            });
            scene.remove(...scene.children);
            interactiveObjects = [];
        }

        function setupControls() {
            const buttons = document.querySelectorAll('.control-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    buttons.forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    switchMode(e.target.dataset.mode);
                });
            });
        }

        function switchMode(mode) {
            updateInfoPanel(mode);
            targetLookAt.set(0, 0, 0);
            createVisualization(); // Re-create the viz for each mode to keep it simple
            targetPosition.set(0, 5, 35);
        }

        function updateInfoPanel(mode, content = null) {
            const data = profileData[mode];
            document.getElementById('section-title').innerHTML = data.title;
            document.getElementById('section-content').innerHTML = content || data.content;
        }

        function setupEventListeners() {
            window.addEventListener('resize', onWindowResize);
            renderer.domElement.addEventListener('mousemove', onMouseMove);
            renderer.domElement.addEventListener('click', onClick);
        }

        function onWindowResize() { /* ... function from previous code ... */ }

        function onMouseMove(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        }
        
        function onClick(event) {
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(interactiveObjects);
            if (intersects.length > 0) {
                const object = intersects[0].object;
                targetPosition.copy(object.position).add(new THREE.Vector3(0, 3, 12));
                targetLookAt.copy(object.position);
                if (object.userData.type === 'skill') {
                    updateInfoPanel('skills', `<p><strong>Skill: ${object.userData.name}</strong></p><p>A core competency reflecting a percentile of ~${Math.round(object.userData.skill.level*100)}%.</p>`);
                }
            } else {
                targetPosition.set(0, 5, 35);
                targetLookAt.set(0, 0, 0);
            }
        }
        
        function animate() {
            requestAnimationFrame(animate);

            camera.position.lerp(targetPosition, 0.04);
            let lookAtTarget = new THREE.Vector3().lerpVectors(camera.position, targetLookAt, 0.1);
            camera.lookAt(targetLookAt);

            // Hover effect
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(interactiveObjects);
            if (hoveredObject) {
                hoveredObject.material.emissiveIntensity = 0.1;
                hoveredObject = null;
            }
            if (intersects.length > 0) {
                hoveredObject = intersects[0].object;
                hoveredObject.material.emissiveIntensity = 0.5;
            }

            composer.render();
        }
    </script>
</body>
</html>
